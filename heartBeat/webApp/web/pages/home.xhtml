<ui:composition xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ace="http://www.icefaces.org/icefaces/components"
                xmlns:core="http://www.icefaces.org/icefaces/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/WEB-INF/templates/template.xhtml">
    
  <ui:define name="content">
        <ace:panel id="jobTemplatesPanel" header="Job Templates" >
            <h:form>       
                <ace:dataTable id="jobTemplatesTable"
                               value="#{homeBean.jobTemplateTableDataProvider.jobTemplates}"
                               var="jobTemplate" paginator="true" paginatorPosition="bottom"
                               rows="10">
                    <ace:column id="id" headerText="ID" sortBy="#{jobTemplate.id}"
                                filterBy="#{jobTemplate.id}" filterMatchMode="contains">
                        <h:outputText id="idCell" value="#{jobTemplate.id}"/>
                    </ace:column>

                    <ace:column id="name" headerText="Name" sortBy="#{jobTemplate.name}"
                                filterBy="#{jobTemplate.name}" filterMatchMode="contains">
						<h:link value="#{jobTemplate.name}" outcome="/pages/viewJobTemplate.xhtml">
							<f:param name="id" value="#{jobTemplate.id}" />
						</h:link>
                    </ace:column>

                    <ace:column id="creationDate" headerText="Creation Date" sortBy="#{jobTemplate.creationDate}"
                                filterBy="#{jobTemplate.creationDate}" filterMatchMode="contains">
                        <h:outputText id="creationDateCell" value="#{jobTemplate.creationDate}"/>
                    </ace:column>
                </ace:dataTable>
            </h:form>     
        </ace:panel>

        <ace:panel id="jobsPanel" header="Jobs Overview">
            <h:form>
                <ace:dataTable id="jobsTable"
                               value="#{homeBean.jobTableDataProvider.jobs}"
                               var="job" paginator="true" paginatorPosition="bottom"
                               rows="10">
                    <ace:column id="id" headerText="ID" sortBy="#{job.id}"
                                filterBy="#{job.id}" filterMatchMode="contains">
						<h:link value="#{job.id}" outcome="/pages/viewJob.xhtml">
							<f:param name="id" value="#{job.id}" />
						</h:link>
                    </ace:column>
                    <ace:column id="status" headerText="Status" sortBy="#{job.status}"
                                filterBy="#{job.status}" filterMatchMode="contains">
                        <h:outputText id="statusCell" value="#{job.status}"/>
                    </ace:column>
                    <ace:column id="templateId" headerText="Template ID" sortBy="#{job.templateId}"
                                filterBy="#{job.templateId}" filterMatchMode="contains">
                        <h:outputText id="templateIdCell" value="#{job.templateId}"/>
                    </ace:column>
                    <ace:column id="templateName" headerText="Template Name" sortBy="#{job.jobTemplate.name}"
                                filterBy="#{job.jobTemplate.name}" filterMatchMode="containes">
                        <h:outputText id="templateNameCell" value="#{job.jobTemplate.name}"/>
                    </ace:column>
                    <ace:column id="startTime" headerText="Start" sortBy="#{job.startTime}"
                                filterBy="#{job.startTime}" filterMatchMode="contains">
                        <h:outputText id="startTimeCell" value="#{job.startTime}"/>
                    </ace:column>
                    <ace:column id="endTime" headerText="End" sortBy="#{job.endTime}"
                                filterBy="#{job.endTime}" filterMatchMode="contains">
                        <h:outputText id="endTimeCell" value="#{job.endTime}"/>
                    </ace:column>
                </ace:dataTable>
            </h:form>     
        </ace:panel>

    </ui:define>
</ui:composition>